#!/usr/bin/env python3
# This file is placed in the Public Domain.
#
# pylint: disable=C,R,W0105


"objects"


import os
import sys


sys.path.insert(0, os.getcwd())


from objx.default import Default
from objx.command import Command, cmnd


"commands"


def cmd(event):
    event.reply(",".join(Command.cmds))


def dbg(event):
    "raise exception"
    raise Exception("yo!")


"register"


Command.add(cmd)
Command.add(dbg)


"runtime"


def main():
    if os.path.exists("mods"):
        import mods
    evt = cmnd(" ".join(sys.argv[1:]))
    for line in evt.result:
        print(line)


if __name__ == "__main__":
    main()
